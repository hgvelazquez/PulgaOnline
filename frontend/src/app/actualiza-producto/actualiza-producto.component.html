<div class="component-container">
  <div class="form-container" *ngIf="producto">
    <form [formGroup]="productForm" (ngSubmit)="update(desc.value, precio.value, disp.value);">
      <div class="maker-cols">
        <div class="colu">
          <div class="fields-container">
            <div class="one-field">
              <div class="label-cont">
                <label for="prod-nombre">Nombre: </label>
              </div>
              <input id="prod-name" class="form-input-name" formControlName="nombre">
            </div>
            <div class="one-field">
              <div class="label-cont">
                <label for="prod-descripcion">Descripción: </label>
              </div>
              <textarea id="prod-descripcion" class="form-input-desc" #desc formControlName="descripcion"
                [class.valid]="valid('descripcion')" [class.invalid]="invalid('descripcion')">
              </textarea>
              <div class="warn-cont">
                <small class="error-text" *ngIf="invalid('descripcion')">
                  La descripción no puede ser vacía. Además, debe tener al menos 5 caracteres.
                </small>
              </div>
            </div>
            <div class="one-field">
              <div class="label-cont">
                <label for="prod-precio">Precio: </label>
              </div>
              $&nbsp;
              <input id="prod-precio" class="form-input-num" type="number" step="0.01" min="0.01" #precio
                formControlName="precio" [class.valid]="valid('precio')" [class.invalid]="invalid('precio')">&nbsp;MXN
              <div class="warn-cont">
                <small class="error-text" *ngIf="invalid('precio')">
                  El precio debe ser un número y debe ser al menos 1 centavo (0.01 MXN)
                </small>
              </div>
            </div>
            <div class="one-field">
              <div class="label-cont">
                <label for="prod-disponible">Disponibles: </label>
              </div>
              <input id="prod-disponibles" class="form-input-num" type="number" min="0" #disp
                formControlName="disponible" [class.valid]="valid('disponible')"
                [class.invalid]="invalid('disponible')">

              <div class="warn-cont">
                <small class="error-text" *ngIf="invalid('disponible')">
                  El número de productos disponibles debe ser un entero mayor o igual a cero.
                </small>
              </div>
            </div>
            <div class="one-field">
              <div class="label-cont">
                <label for="prod-categoria">Categoría: </label>
              </div>
              <input id="prod-categoria" #catProd formControlName="categoria">
            </div>
          </div>
        </div>
        <div class="colu2">
          <div class="im-container">
            <div class="label-cont">
              <label for="prod-imagen">Reemplazar la imagen: </label>
            </div>
            <input formControlName="imagen" id="prod-imagen" class="form-input" type="file"
              (change)="onFileChanged($event)">
            <br>
            <div class="img-cont">
              <img class="contained" [src]="imageUrl">
            </div>
            <div class="warn-cont">
              <small class="error-text" *ngIf="invalidFile()">
                El archivo debe ser una imagen. En caso contrario permanecerá
                la imagen actual.
              </small>
            </div>
          </div>
        </div>
      </div>
      <div class="buttons-div">
        <div class="button-div">
          <button class="act" type="submit" [disabled]="!productForm.valid">Actualizar Producto</button>
        </div>
        <div class="button-div">
          <button (click)="goBack(false)">Cancelar</button>
        </div>
      </div>
    </form>

  </div>
</div>